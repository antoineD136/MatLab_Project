function [v1Prim,v2Prim] = getNewVelocityVectorFromCircleCollide( circle1, circle2) % Fonction pour d√©finir le nouveau vecteur vitesse du cercle effectuant la collision
V1 = [circle1.vVector.projectedSpeedVx ; circle1.vVector.projectedSpeedVy];
V2 = [circle2.vVector.projectedSpeedVx ; circle2.vVector.projectedSpeedVy];
normalVector = [(circle2.finalX - circle1.finalX ); (circle2.finalY - circle1.finalY)];
unitNormalVector = normalVector / norm(normalVector);
unitTangentVector = [-unitNormalVector(2,1) ; unitNormalVector(1,1)];
normalV1 = dot(unitNormalVector, V1);
tangentV1 = dot(unitTangentVector, V1);
normalV2 = dot(unitNormalVector, V2);
tangentV2 = dot(unitTangentVector, V2);
tangentV1Prim = tangentV1;
tangentV2Prim = tangentV2;
normalV1Prim = ((normalV1 * (circle1.mass - circle2.mass)) + (2*circle2.mass*normalV2))/(circle1.mass + circle2.mass);
normalV2Prim = ((normalV2 * (circle2.mass - circle1.mass)) + (2*circle1.mass*normalV1))/(circle1.mass + circle2.mass);
normalV1Prim = normalV1Prim * unitNormalVector;
normalV2Prim = normalV2Prim * unitNormalVector;
tangentV1Prim = tangentV1Prim * unitTangentVector;
tangentV2Prim = tangentV2Prim * unitTangentVector;
v1Prim = normalV1Prim + tangentV1Prim;
v2Prim = normalV2Prim + tangentV2Prim;
end
